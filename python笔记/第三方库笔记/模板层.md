## 模板层

- 作为Web框架，Django需要一种很便利的方法来动态的生成HTML。常见的做法是使用模板。

- 模板包含所有HTML输出的静态部分，以及一些特殊的语法，描述如何将动态内容插入。

- 模板任务就是输出数据，输出方式：直接输出，过滤输出、判断输出、循环输出

- 在Django框架中使用模板:

    1. 在项目的settings.py配置文件中配置模板目录

        'DIRS': [os.path.join(BASE_DIR,'templates')]',
        
    2. 在应用的视图文件加载模板，并放置要输出的数据

        return render(request, "目录/模板文件.html", {放置字典数据})
    3.  在模板文件中使用变量、标签和过滤器等输出信息

        {{变量}}  {% 标签 %}  {{变量|过滤器}}
        
        
        
  
  ## 模板语法
  
 - **变量**的输出

    语法：
    	{{ var }}
    模板中使用的这个变量，是views视图中，指向该模板的视图函数中的变量
   
   - 当模板引擎遇到一个变量，将计算这个变量，然后将结果输出
   - 变量名必须由字母、数字、下划线（不能下划线开头）和点组成
   - 当模板引擎遇到“.” 会按照以下顺序查询：
   
       - 字典查询，例如：foo["bar"]

       - 属性或方法查询，例如：foo.bar

       - 数字索引查询，例如foo[1]
    - 如果变量不存在，模板系统将插入空字符串
    - 在模板中调用方法时，不能传递参数
   
   
   
 - 模板的**标签**

    语法：
    {% tag %}
    for标签:  {% for .. in ...%}
                    循环逻辑
                {% endfor %}

    作用
        - 在输出中创建文本
            - 控制循环或逻辑
            - 加载外部信息到模板中
    
    if标签：  {% if ... %}
                    逻辑1
                {% elif ... %}
                    逻辑2
                {% else %}
                    逻辑3
                {% end %}
                
    comment标签： {% comment %}
                            多行注释
                         {% endcomment%}
                         
   url标签（反向解析）:  {% url 'name' p1 p2 %}  
   
   csrf_token(跨站请求伪造保护):  {% scrf_token %}
   
   include(加载模板并以标签内的参数渲染)： {% include  "base/index.html" %}
   
 - 模板的**过滤**
    {{ 变量|过滤器}}     例如 {{name|lower}}
    
    将name的值再加工（小写）
    
    {{ name|upper}}    改大写
    
    {{ time|date:'Y-m-d '}}
    
    ```
    {{ name|join:";"}}
    ```
    
 - 模板的注释

 - 模板中的运算

 - 自定义标签或过滤器 